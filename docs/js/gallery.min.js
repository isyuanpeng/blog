const Gallery=n=>{const s=e=>Array.from(e.children).map(t=>{const e=t.children[0],n=e.getAttribute("data-size").split("x"),s=e.children[0];return{div:t,src:e.getAttribute("href"),w:parseInt(n[0],10),h:parseInt(n[1],10),msrc:s.getAttribute("src")}}),t=(e,n)=>{const o=document.querySelectorAll(".pswp")[0],t=s(e),i=n=>{const s=window.pageYOffset||document.documentElement.scrollTop,o=t[n].div.getElementsByTagName("img")[0],e=o.getBoundingClientRect();return{x:e.left,y:e.top+s,w:e.width}},a=e.classList.contains("keep-aspect-ratio"),r={index:n,getThumbBoundsFn:a?i:void 0};gallery=new PhotoSwipe(o,PhotoSwipeUI_Default,t,r),gallery.init()},o=(n,s)=>{const e=s||window.event;e.preventDefault?e.preventDefault():e.returnValue=!1;const o=e.target||e.srcElement,i=parseInt(o.getAttribute("data-index"),10);return t(n,i),!1},i=s=>{const e=new URLSearchParams(window.location.hash.substr(1)),n=e.get("pid"),o=e.get("gid");if(!n||!o)return;t(s,parseInt(n,10))},e=document.querySelectorAll(n)[0];Array.from(e.getElementsByTagName("img")).forEach(t=>t.onclick=t=>o(e,t)),i(e)};Gallery(".grid")